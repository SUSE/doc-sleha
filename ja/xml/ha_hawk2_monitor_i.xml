<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ha_hawk2_monitor_i.xml" version="5.0" xml:id="sec.conf.hawk2.monitor">

 <title>クラスタの監視</title>

    <info>
   <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
    <dm:maintainer/>
    <dm:status>編集</dm:status>
    <dm:deadline/>
    <dm:priority/>
    <dm:translation>yes</dm:translation>
    <dm:languages/>
    <dm:release/>
    <dm:repository/>
   </dm:docmanager>
    </info>

 <para>Hawk2には、単一のクラスタおよび複数のクラスタを監視するための異なる画面があります: <guimenu>Status (状態)</guimenu>画面と<guimenu>Dashboard (ダッシュボード)</guimenu>画面。
 </para>

  <sect2 xml:id="sec.conf.hawk2.manage.monitor.status">
   <title>単一クラスタの監視</title>
   <para>単一クラスタを監視するには、<guimenu>Status (状態)</guimenu>画面を使用します。Hawk2にログインした後で、<guimenu>Status (状態)</guimenu>画面がデフォルトで表示されます。右上隅のアイコンに、クラスタの状態の概要が表示されます。詳細情報を参照する場合は、次のカテゴリを確認します。</para>
   <variablelist>
    <varlistentry>
     <term>エラー</term>
     <listitem>
      <para>エラーが発生した場合にのみ表示されます。</para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>リソース</term>
     <listitem>
      <para>設定されているリソースが表示されます。その<guimenu>状態</guimenu>、<guimenu>名前</guimenu>(ID)、<guimenu>場所</guimenu>(リソースが実行されているノード)、リソースエージェントの<guimenu>タイプ</guimenu>が含まれます。<guimenu>Operations (操作)</guimenu>列で、リソースを開始または停止するか、いくつかのアクションをトリガーするか、詳を表示できます。トリガ可能なアクションには、保守モードへのリソースの設定(または保守モードの削除)、リソースの別のノードへの移行、リソースのクリーンアップ、リソースイベントの表示、またはリソースの編集が含まれます。
       </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>ノード</term>
     <listitem>
      <para>ログイン先のクラスタサイトに属するノードが表示されます。ノードの<guimenu>状態</guimenu>および<guimenu>名前</guimenu>が含まれます。<guimenu>Maintenance (保守)</guimenu>および<guimenu>Standby (スタンバイ)</guimenu>列で、<literal>maintenance</literal>または<literal>standby</literal>フラグを設定または解除できます。<guimenu>Operations (操作)</guimenu>列で、詳細情報を参照できます。たとえば、それぞれのノードに<literal>utilization</literal>、<literal>standby</literal>、または<literal>maintenance</literal>のどの属性が設定されているかを参照できます。 </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <figure pgwide="0">
    <title>Hawk2 - クラスタの状態</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="hawk2-cluster-status-main.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="hawk2-cluster-status-main.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="sec.conf.hawk2.manage.monitor.dash">
   <title>複数のクラスタの監視</title>
   <para>複数のクラスタを監視するには、Hawk2 <guimenu>Dashboard (ダッシュボード)</guimenu>を使用します。<guimenu>Dashboard (ダッシュボード)</guimenu>画面はサーバ側に保存されており、クラスタノード間で同期されます(クラスタノード間でのパスワード不要のSSHアクセスが設定されている場合)。詳細については、<xref linkend="sec.crmreport.nonroot.ssh"/>を参照してください。ただし、Hawk2を実行するマシンは、その目的のためにクラスタの一部である必要はなく、別個の無関係のシステムで構いません。 </para>

   <para>Hawk2で複数のクラスタを監視するには、一般的な<xref linkend="sec.conf.hawk2.req" xrefstyle="select:title"/>に加え、次の前提条件も満たす必要があります。</para>
   <itemizedlist>
    <title>前提条件</title>
    <listitem>
     <para> Hawk2の<guimenu>Dashboard (ダッシュボード)</guimenu>で監視するすべてのクラスタでは、<phrase role="productname"><phrase os="sles">SUSE Linux Enterprise High Availability Extension</phrase></phrase> <phrase role="productnumber"><phrase os="sles"> 12 SP2</phrase></phrase>を実行している必要があります。 </para>
    </listitem>
    <listitem>
     <para>すべてのクラスタノードにあるHawk2の自己署名証明書を独自の証明書(または公式認証局によって署名された証明書)で置き換えていない場合は、<emphasis/>「すべての」クラスタの<emphasis/>「すべての」ノードで、少なくとも1回はHawkにログインします。証明書を検証します(または、ブラウザで例外を追加して警告をスキップします)。 </para>
    </listitem>
   </itemizedlist>
   <procedure xml:id="pro.conf.hawk2.dashboard">
    <title>ダッシュボードを使用した複数クラスタの監視</title>
    <step>
     <para>Hawk2にログインします。</para>
     <screen>https://<replaceable>HAWKSERVER</replaceable>:7630/</screen>
    </step>
    <step>
     <para>左のナビゲーションバーで、<guimenu>Dashboard (ダッシュボード)</guimenu>を選択します。 </para>
    </step>
    <step>
     <para>複数のクラスタのダッシュボードを追加するため、<guimenu>Add Cluster (クラスタの追加)</guimenu>をクリックします。</para>
     <informalfigure>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="hawk2-dashboard-add-cluster.png" width="100%" format="PNG"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="hawk2-dashboard-add-cluster.png" width="100%" format="PNG"/>
       </imageobject>
      </mediaobject>
     </informalfigure>
     <substeps>
      <step>
       <para> <guimenu>Dashboard (ダッシュボード)</guimenu>でクラスタを識別するためのカスタムクラスタ名を<guimenu>クラスタ名</guimenu>に入力します。 </para>
      </step>
      <step>
       <para>クラスタ内のノードのホスト名を<guimenu>Hostname of a node in the cluster (クラスタ内のノードのホスト名)</guimenu>に入力します。</para>
      </step>
      <step>
       <para>Hawk2の更新間隔、接続先のポート、HTTPSを使用するかどうか(デフォルトでは使用)などの他のオプションを指定するには、<guimenu>Advanced (詳細設定)</guimenu>をクリックして詳細情報を入力します。 </para>
      </step>
      <step>
       <para><guimenu>Add (追加)</guimenu>をクリックして、変更を確認します。</para>

      </step>
      <step>
       <para> ダッシュボードにクラスタをさらに追加するには、もう一度<guimenu>Add Cluster (クラスタの追加)</guimenu>をクリックして、次のクラスタの詳細を入力します。 </para>
       <figure>
        <title>Hawk2 - ダッシュボード</title>
        <mediaobject>
         <imageobject role="fo">
          <imagedata fileref="hawk2-dashboard-multiple-clusters.png" width="100%" format="PNG"/>
         </imageobject>
         <imageobject role="html">
          <imagedata fileref="hawk2-dashboard-multiple-clusters.png" width="100%" format="PNG"/>
         </imageobject>
        </mediaobject>
       </figure>
      </step>
     </substeps>
    </step>
    <step>
     <para> ダッシュボードからクラスタを削除するには、クラスタの名前の横にある<literal>x</literal>アイコンをクリックします。 </para>
    </step>
    <step>
     <para> クラスタの詳細を表示するには、パスワードを入力して、<guimenu>Connect (接続)</guimenu>をクリックします。 </para>
     <para> それぞれのノード、リソース、およびチケットの状態と共にサマリが表示されます。クラスタ名をクリックすると、クラスタの<guimenu>Status (状態)</guimenu>画面が表示されます。ここから、通常の方法でクラスタを管理できます。</para>
    </step>
   </procedure>
  </sect2>
 </sect1>
