<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE appendix PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<appendix xml:base="ha_management.xml" id="app.ha.management">
 <title>叢集管理工具</title>
 <para>
  High Availability Extension 隨附了一組功能全面的工具，可協助您利用指令行來管理叢集。本章介紹管理 CIB 中的叢集組態與叢集資源所需的工具。<xref linkend="app.ha.troubleshooting"/> 中介紹了管理資源代辦的其他指令行工具和用於對設定進行除錯和疑難排解的工具。
 </para>
 <note>
  <title>使用 crmsh</title>
  <para>
   此工具僅供專家使用。通常情況下，建議您使用 crm 外圍程序 (crmsh) 來管理叢集。
  </para>
 </note>
 <para>
  以下清單提供了多項與叢集管理相關的任務，並簡要介紹了用於完成這些任務的工具：
 </para>
 <variablelist>
  <varlistentry>
   <term>監控叢集狀態</term>
   <listitem>
    <para>
     <command>crm_mon</command> 指令可讓您監控叢集狀態與組態。其輸出包括節點數、uname、uuid、狀態、叢集中設定的資源及其各自的目前狀態。<command>crm_mon</command> 的輸出可顯示在主控台中或列印成 HTML 檔案。如果提供無狀態區段的叢集組態檔案，<command>crm_mon</command> 就會建立節點及資源的綜覽 (如檔案中所指定)。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_mon</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理 CIB</term>
   <listitem>
    <para>
     <command>cibadmin</command> 指令是用於操作 CIB 的低階管理指令。它可用來傾印、更新及修改所有或部分 CIB，刪除整個 CIB，或執行其他 CIB 管理操作。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>cibadmin</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理組態變更</term>
   <listitem>
    <para>
     <command>crm_diff</command> 指令可協助您建立並套用 XML 修補程式。此指令可用於視覺化兩個叢集組態版本之間的變更，或者儲存變更以便在以後使用 <command>cibadmin</command> 套用變更。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_diff</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>操作 CIB 屬性</term>
   <listitem>
    <para>
     <command>crm_attribute</command> 指令可讓您查詢並操作節點屬性和要在 CIB 中使用的叢集組態選項。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_attribute</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>驗證叢集組態</term>
   <listitem>
    <para>
     <command>crm_verify</command> 指令可檢查組態資料庫 (CIB) 的一致性及其他問題。它可檢查檔案是否包含組態或連接正在執行的叢集。它可報告兩類問題。錯誤必須要加以修復，High Availability Extension 才能正常運作，而是否需解決警告問題則由管理員來決定。<command>crm_verify</command> 可協助建立新組態或修改的組態。您可在執行中的叢集中建立 CIB 的本地副本、對其進行編輯，並使用 <command>crm_verify</command> 進行驗證，然後使用 <command>cibadmin</command> 使新組態生效。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_verify</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理資源組態</term>
   <listitem>
    <para>
     <command>crm_resource</command> 指令可在叢集上執行各種與資源相關的動作。它可讓您修改已設定資源的定義，啟動和停止資源，或在節點間刪除和移轉資源。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_resource</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理資源失敗計數</term>
   <listitem>
    <para>
     <command>crm_failcount</command> 指令會查詢指定節點上每個資源的失敗次數。此工具還可用來重設 failcount，允許資源在失敗次數過多的節點上重新執行。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_failcount</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
  <varlistentry>
   <term>管理節點的待命狀態</term>
   <listitem>
    <para>
     <command>crm_standby</command> 指令可操作節點的待命屬性。待命模式下的任何節點都無法再代管資源，且其中的所有資源也都必須移出。執行核心更新等維護任務時，待命模式十分有用。移除節點的待命屬性，可讓其再次成為叢集的完全使用中成員。如需此工具的用途與指令語法的詳細介紹，請參閱 <command>crm_standby</command> 的 man 頁面。
    </para>
   </listitem>
  </varlistentry>
 </variablelist>



</appendix>
