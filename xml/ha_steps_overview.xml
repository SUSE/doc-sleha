<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.ha.steps">
 <title>Overview of Steps and Tasks</title>
 <abstract>
  <para> This chapter provides an overview of the common steps and tasks for
   installation, setup, configuration, and administration of a cluster. </para>
 </abstract>
 <para> The following steps are necessary to install, set up, and configure a
  cluster with &productnamereg;: </para>
 <procedure>
  <step>
   <formalpara>
    <title>Installation and basic setup</title>
    <para>
     <!--add link--> Depending on the deployment method, the following substeps
     are either part of an automated process or must be executed manually.
    </para>
   </formalpara>
   <substeps>
    <step>
     <para> Installation of the software packages. </para>
    </step>
    <step>
     <para> Initial cluster setup. </para>
    </step>
    <step>
     <para> Start of the &ais; service to bring the cluster online. </para>
    </step>
   </substeps>
  </step>
  <step>
   <formalpara>
    <title>Configuration of global cluster options and resources</title>
    <para> Both can be done with one of the following cluster management tools:
      <remark>taroth 2011-10-13: todo - verify for hawk!</remark>
    </para>
   </formalpara>
   <itemizedlist>
  <!--  <listitem>
     <para> &hbgui;&mdash;For detailed information, see <xref
       linkend="cha.ha.configuration.gui"/>. </para>
    </listitem>-->
    <listitem>
     <para> &haweb;&mdash;For detailed information, see <xref
       linkend="cha.ha.configuration.hawk"/>. </para>
    </listitem>
    <listitem>
     <para>
      <command>crm</command> shell&mdash;For detailed information, see <xref
       linkend="cha.ha.manual_config"/>. </para>
    </listitem>
   </itemizedlist>
  </step>
  <step>
   <formalpara>
    <title>&stonith; Configuration</title>
    <para> To protect your data from possible corruption by means of fencing and
     &stonith;, make sure to configure &stonith; devices as resources.
     For detailed information, see <xref linkend="cha.ha.fencing"/>. </para>
   </formalpara>
  </step>
  <step>
   <formalpara>
    <title>Storage Configuration</title>
    <para> Depending on your requirements, you may also want to configure the
     following file system and storage-related components for your cluster:
    </para>
   </formalpara>
   <itemizedlist>
    <listitem>
     <para> Create file systems on a shared disk (Storage Area Network, SAN). If
      necessary, configure those file systems as cluster resources. </para>
    </listitem>
    <listitem>
     <para> If you need cluster-aware file systems, use OCFS2. </para>
    </listitem>
    <listitem>
     <para> To allow the cluster to manage shared storage with Logical Volume
      Manager, use cLVM, which is a set of clustering extensions to LVM. </para>
    </listitem>
    <listitem>
     <para> To protect your data integrity, implement storage protection by
      using fencing mechanisms and by ensuring exclusive storage access. </para>
    </listitem>
    <listitem>
     <para> If needed, make use of data replication with DRBD*. </para>
    </listitem>
   </itemizedlist>
   <para> For detailed information, see <xref linkend="part.storage"/>. </para>
  </step>
 </procedure>
 <para> The following list highlights the most important cluster management and
  administration tasks:
  <remark>taroth 2011-10-19: WIP, add references</remark> </para>
 <itemizedlist>
  <listitem>
   <para>Starting and stopping the &ais; service (to bring cluster online or
    take it offline, respectively).</para>
  </listitem>
  <listitem>
   <para>Starting and stopping resources.</para>
  </listitem>
  <listitem>
   <para>Putting resources in unmanaged mode.</para>
  </listitem>
  <listitem>
   <para>Manually migrating resources.</para>
  </listitem>
  <listitem>
   <para>Analyzing failures and events (history).</para>
  </listitem>
  <listitem>
   <para>Troubleshooting and checking logs (hb_report).</para>
  </listitem>
 </itemizedlist>
</chapter>
